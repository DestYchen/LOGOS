{
  "doc_type": "PROFORMA",

  "proforma_date": "Найди дату проформы по меткам «Date», «YMD/Date» или рядом с заголовком «PROFORMA INVOICE». Сохраняй точный формат из документа (не нормализуй) и добавь дату в поле proforma_date.",

  "proforma_no": "Извлеки номер проформы по меткам «Proforma Invoice No», «No», «N°/№». Сохраняй строку целиком (буквы/цифры/символы) и добавь её в поле proforma_no.",

  "country_of_origin": "Если явно указано «Country of origin»/«ORIGIN OF GOODS», извлеки страну (например, «CHILE») и добавь её в поле country_of_origin. Если поле отсутствует — оставь пустым.",

  "HS_code": "Если указан «HS CODE»/«Tariff code», собери коды в точном виде (например, 0304.81). Если кодов несколько, перечисли через «; ». Если коды различаются по позициям, собери все уникальные и тоже перечисли через «; ». Добавь строку в поле HS_code.",

  "additional_agreements": "Извлеки раздел с особыми условиями/оговорками («Additional agreements», «Notes», «Special terms», правовые/комплаенс-вставки). Сохрани полный текст одним блоком (без сокращений) и добавь его в поле additional_agreements.",

  "buyer": "Определи покупателя по меткам «Buyer», «Customer», «Señores/Customer», «Consignee». Сохрани полное наименование (и адрес, если указан) одной строкой и добавь текст в поле buyer.",

  "seller": "Определи продавца по меткам «Seller», «Supplier». Сохрани юридическое наименование (и адрес, если есть) одной строкой и добавь текст в поле seller.",

  "producer": "Если указан «Producer/Manufacturer/Processing plant» (иногда вместе с «REG./Plant number»), извлеки юридическое наименование. При наличии регистрационного номера завода можешь включить его в ту же строку. Добавь текст в поле producer.",

  "incoterms": "Извлеки условия поставки (ИНКОТЕРМС) — трёхбуквенный код (EXW/FOB/CFR/CIF/DAP и т.п.) и, если указан, пункт (порт/город), например «CFR SAINT-PETERSBURG, RUSSIA». Добавь строку в поле incoterms.",

  "terms_of_payment": "Найди условия оплаты («Terms of payment», «Payment», «Forma de pago»). Сохрани формулировку полностью (например, «ADV. 20%, BALANCE C/COPY DOC.») и добавь её вв поле terms_of_payment.",

  "bank_details": "Извлеки банковские реквизиты (банк, счёт/IBAN, SWIFT/BIC, бенефициар и адрес). Сохрани как многострочный блок в исходном виде и добавь его в поле bank_details.",

  "total_price": "Возьми общий итог по документу («Total …», часто рядом с ИНКОТЕРМС и валютой, например «Total CFR 248.600,00»). Предпочитай явное печатное значение; если указана сумма прописью, не подменяй ею числовой итог. Добавь строку в поле total_price.",

  "products": "Блок «products» расширяемый: создай product_1, product_2, … по количеству товарных строк в документе, сохраняя их порядок. Для каждой позиции заполняй все доступные поля. Если общий атрибут указан один раз (например, один латинский вид для всех строк), продублируй его в соответствующие product_i. В token_refs укажи ссылки на исходные фрагменты (ячейки/строки), из которых собрано значение.",

  "products[*].name_product": "Возьми коммерческое наименование из колонки «Description of Goods»/«Descripción de la Mercadería» (например, «FROZEN ATLANTIC SALMON FILLET TRIM D VP PREMIUM …»). Объедини переносы в одну строку. Добавь текст в products[i].name_product.",

  "products[*].latin_name": "Если рядом с наименованием указан латинский вид в скобках (например, «SALMO SALAR»), извлеки его отдельно и добавь в products[i].latin_name. Если отсутствует — оставь пустым.",

  "products[*].size_product": "Извлеки размер/калибр (например, «3–4 LB (1.3–1.8 KG)», «80/120»). Если указаны обе системы измерений, сохрани обе. Добавь строку в products[i].size_product.",

  "products[*].unit_box": "Зафиксируй учётную/ценовую единицу, если она явно указана («per carton», «per kg», «unit», «Price per …»). Добавь значение в products[i].unit_box; если не указана — оставь пустым.",

  "products[*].packages": "Извлеки количество мест/упаковок («Packages», «Cases», «Cartons»). Если в проформе указан только вес/количество в кг без количества мест — оставь поле пустым (не выводи по косвенным признакам). Добавь значение в products[i].packages.",

  "products[*].net_weight": "Возьми массу нетто по позиции («Net weight», «Quantity/KG» если это явный нетто). Сохрани число и единицу в исходном формате (точки/запятые) и добавь значение в products[i].net_weight.",

  "products[*].gross_weight": "Если указана масса брутто («Gross weight»/«G.W.») по позиции — извлеки её. Сохрани число и единицу в исходном формате. Добавь значение в products[i].gross_weight. Если брутто отсутствует — оставь пустым.",

  "products[*].price_per_unit": "Найди цену за единицу по меткам «Unit Price», «Precio Unitario», «Price per …». Сохрани валюту и формат числа ровно как в документе. Добавь значение в products[i].price_per_unit.",

  "products[*].total_price": "Извлеки построчную сумму («Line total», «Amount», иногда совпадает с «Total …» в строке). Если явного значения нет, вычисли как количество/вес × price_per_unit, сохранив валюту и формат. Добавь сумму в products[i].total_price."
}
