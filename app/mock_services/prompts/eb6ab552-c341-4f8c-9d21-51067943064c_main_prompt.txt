MODEL: openai/gpt-oss-20b
BRANCH: MAIN

=== SYSTEM ===
You convert OCR tokens into a structured JSON object of fields.

Input:

A JSON template ("FIELDS TEMPLATE") that defines all output fields.
Each field is an object with:
"value": string (initially "").
"token_refs": array of token ids (initially []).

Optional "FIELD HINTS" that describe how to extract each field.

A list of OCR tokens ("RAW TOKENS"), each given as:
token_id:
token_text

Your task:

Use ONLY the RAW TOKENS to fill "value" and "token_refs" in the FIELDS TEMPLATE.
When you set a non-empty "value", add in "token_refs" the first token ids whose text you used (even if there are multiple mentions).
If you cannot confidently find a value, leave "value" as "" and "token_refs" as [].
Copy text EXACTLY as it appears in the tokens (no corrections, no reformatting).
Do NOT invent or guess values.
The value can be, but is not guaranteed to be a FULL section. There can be multiple values in one section (one token id) or a value can be spread out between different sections. Basically your goal is to accurately fill the value, following the hints, and only then you should start to care about token_refs, to find the one that best corresponds to this value.
Do NOT change the JSON structure: do not add, remove, or rename fields.
Output MUST be a single valid JSON object with the same structure as the FIELDS TEMPLATE.
Return ONLY the completed JSON, with no explanations or extra text.

=== USER ===
-- part 1 (text) --
=== FIELDS TEMPLATE ===
{"veterinary_certificate_no": {"value": "", "token_refs": []}, "veterinary_certificate_date": {"value": "", "token_refs": []}, "producer": {"value": "", "token_refs": []}, "buyer": {"value": "", "token_refs": []}, "exporter": {"value": "", "token_refs": []}, "vessel": {"value": "", "token_refs": []}, "container_no": {"value": "", "token_refs": []}, "veterinary_seal": {"value": "", "token_refs": []}, "country_of_origin": {"value": "", "token_refs": []}}
=== END FIELDS TEMPLATE ===
-- part 2 (text) --
=== FIELD HINTS ===
doc_type: VETERINARY_CERTIFICATE
veterinary_certificate_no: Возьми номер сертификата из п.1.5 «Certificate / Сертификат №» или из нижнего колонтитула «Certificate Number …». Сохрани строку ровно как в бланке и добавь её в поле veterinary_certificate_no.
veterinary_certificate_date: Найди дату и место выдачи в строке «PLACE AND DATE OF ISSUE» (внизу документа, например «TALCAHUANO 02/07/2025»). Сохрани формат как в источнике и добавь дату в поле veterinary_certificate_date.
producer: Извлеки наименование предприятия из п.3.1 «Name (Nº) and address of establishment…» (это производитель/завод; нередко рядом указан Establishment No). Сохрани полное юр. наименование одной строкой и добавь его в поле producer.
buyer: Возьми получателя из п.1.2 «Name and address of consignee». Сохрани наименование (и адрес, если указан) одной строкой и добавь в поле buyer.
exporter: Возьми отправителя/экспортёра из п.1.1 «Name and address of consignor». Сохрани наименование (и адрес, если указан) одной строкой и добавь в поле exporter.
vessel: В п.1.3 «Means of transport» извлеки название судна без номера контейнера (например, «MSC TAKORADI VIII NX528R»). Сохрани в одной строке и добавь в поле vessel.
container_no: В п.1.3 найди номер(а) контейнера формата 4 буквы + 7 цифр (например, «BMOU9288991»). Если их несколько — перечисли через «; ». Добавь значение(я) в поле container_no.
veterinary_seal: Из п.2.6 «Number of seal» извлеки номер(а) ветпломбы (Health/Veterinary seal), если значение приведено общим блоком. Если номеров несколько — перечисли через «; ». Добавь значение(я) в поле veterinary_seal.
country_of_origin: Определи страну происхождения по п.1.6 (Competent authority/страна) или по формулировке происхождения в шаблоне; зафиксируй именно страну (например, «CHILE»). Добавь её в поле country_of_origin.

invoice_no (candidates): of; /; 224N4209003599900J
invoice_date (candidates): 2018.4.20
container (candidates): CONTAINER NO
=== END FIELD HINTS ===
-- part 3 (text) --
=== RAW TOKENS ===
p0_t1:
中华人民共和国出入境检验检疫
ENTRY-EXIT INSPECTION AND QUARANTINE
OF THE PEOPLE'S REPUBLIC OF CHINA

p0_t2:
五分

2012年12月25日

p0_t3:
编号 No 201NA1200.0035yy08.001

p0_t4:
ВЕТЕРИНАРНЫЙ СЕРТИФИКАТ

VETERINARY CERTIFICATE

p0_t6:
1. Shipment description / Омmicnno postavku

1.1. Name and address of consignor / Название и адрес грузоотправителя:
QINGDAO CALYPSO FOOD CO.,LTD
ADD NO. 50 HONGKONG MIDDLE ROAD,
SHINAN DISTRICT . QINGDAO,
SHANDONG, CHINA.

1.2. Name and address of consignee / Название и адрес грузополучателя:
ООО"MOREODOR"
117292,MOSCOW,PROFSOYUZNAYA
STREET,3,OFFICE 412 RUSSIA

1.3. Means of Transport / Транспорт:
(№ of wagon, track, container, flight-number,
name of the ship)
(№ вагон, автомобиль, контейнера, полис
самолета, названное судлом)

BY VESSEL:MSC TRADER II/HX451A
CONTAINER NO.:MEDU9763238

1.4. Country(s) of transit / Страна(ы) транспортная:
***

1.5. Certificate № / Сотрудник № 224N4209003599900J

Veterinary certificate for products of fish, cattle, swine, animal, fishery, animal health, objects of animal products of their processing, exported to the customs territory of the European Union / Ветеринарный сертификат на экспортную узел на таможине (у) с витамином Е/Eurasickel's economic interest of the country of production of the product and the name, address, phone, address, etc. of the producer, the place of production, the name, address, phone, address, etc. of the consignor, the name, address, phone, address, etc. of the consignee, the name, address, phone, address, etc. of the carrier, the place of delivery, the name, address, phone, address, etc. of the consignor, the name, address, phone, address, etc. of the consignee, the name, address, phone, address, etc. of the carrier, the place of delivery, the name, address, phone, address, etc. of the consignor, the name, address, phone, address, etc. of the consignee, the name, address, phone, address, etc. of the carrier, the place of delivery, the name, address, phone, address, etc. of the consignor, the name, address, phone, address, etc. of the consignee, the name, address, phone, address, etc. of the carrier, the place of delivery, the name, address, phone, address, etc. of the consignor, the name, address, phone, address, etc. of the consignee, the name, address, phone, address, etc. of the carrier, the place of delivery, the name, address, phone, address, etc. of the consignor, the name, address, phone, address, etc. of the consignee, the name, address, phone, address, etc. of the carrier, the place of delivery, the name, address, phone, address, etc. of the consignor, the name, address, phone, address, etc. of the consignee, the name, address, phone, address

p0_t9:
中华人民共和国出入境检验检疫机关及其官员或代表不承担签发本证书的任何经济责任。No financial liability with respect to this certificate shall attach to the only-cause theory of liability and the principle of indemnity of the P. R. of China or to any of its officers or representatives,

p0_t10:
[ce-2(2018.4.20) * 1]

p0_t14:
扫描全能王™

p0_t15:
3亿人都在用的扫描App
=== END RAW TOKENS ===
